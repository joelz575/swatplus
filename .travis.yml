language: c
sudo: true

os:
  - windows

before_install:
  - if [[ $TRAVIS_OS_NAME == windows ]]; then
      choco install make;
    elif [[ $TRAVIS_OS_NAME == linux ]]; then
      sudo apt-get install gfortran;
    fi

install:
  - git clone https://github.com/json-c/json-c.git
  - mkdir json-c-build
  - cd json-c-build
  - cmake ../json-c
  - if [[ $TRAVIS_OS_NAME != windows ]]; then
      sudo make install;
    else
      make;
    fi
  - mkdir build
  - cd build
  - cmake -G "MinGW Makefiles" -DCMAKE_SH="CMAKE_SH-NOTFOUND" ../src
  - cmake --build .

script:
  - echo "Joel all ist gut jetzt wir brauchen dienen Teste"

